    <!DOCTYPE html>
    <html lang="fr">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Projet Cloud - Architecture & Déploiement sur Azure</title>
        <style>
            /* --- Import de la police Poppins --- */
            @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap');
            @import url('https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.1/css/all.min.css');


            /* --- Variables de Style "Azure" --- */
            :root {
                --azure-blue: #0078D4;
                --azure-blue-dark: #005A9E;
                --azure-blue-light: #50a6e5;
                --azure-accent: #00bcf2;
                --text-dark: #212121;
                --text-light: #f5f5f5;
                --bg-light: #ffffff;
                --bg-dark: #1e1e1e;
                --bg-dark-accent: #2d2d2d;
                --border-color-light: #e0e0e0;
                --border-color-dark: #424242;
                --code-bg: #282c34;
                --font-primary: 'Segoe UI', 'Poppins', -apple-system, BlinkMacSystemFont, sans-serif;
                --font-code: 'Consolas', 'Menlo', 'Monaco', monospace;
            }

            /* --- Reset et Style de base --- */
            * { margin: 0; padding: 0; box-sizing: border-box; }
            html, body { height: 100%; overflow: hidden; }
            body {
                font-family: var(--font-primary);
                background-color: var(--bg-dark);
                color: var(--text-dark);
                display: flex;
                justify-content: center;
                align-items: center;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            /* --- Conteneur principal de la présentation --- */
            .presentation-container { width: 100vw; height: 100vh; position: relative; }

            /* --- Style des Diapositives (Slides) --- */
            .slide {
                width: 100%;
                height: 100%;
                padding: 4vw 6vw;
                background-color: var(--bg-light);
                display: flex;
                flex-direction: column;
                justify-content: center;
                align-items: flex-start;
                position: absolute;
                top: 0;
                left: 0;
                opacity: 0;
                pointer-events: none;
                transform: scale(0.95);
                transition: opacity 0.5s ease-in-out, transform 0.5s ease-in-out;
            }
            .slide.active {
                opacity: 1;
                pointer-events: auto;
                z-index: 1;
                transform: scale(1);
            }
            
            /* --- Typographie --- */
            .slide h1, .slide h2 {
                font-weight: 600;
                margin-bottom: 0.8em;
                color: var(--azure-blue-dark);
            }
            .slide h1 { font-size: clamp(2.5rem, 5vw, 3.5rem); }
            .slide h2 { font-size: clamp(2rem, 4vw, 2.8rem); border-bottom: 3px solid var(--azure-accent); padding-bottom: 0.3em; width: 100%; }
            .slide h3 { font-size: clamp(1.2rem, 2.5vw, 1.5rem); color: #444; margin-bottom: 1em; font-weight: 400; }
            .slide p, .slide li { font-size: clamp(1rem, 2vw, 1.2rem); line-height: 1.7; color: #333; }
            .slide strong { color: var(--azure-blue-dark); font-weight: 600; }
            .slide ul { list-style-type: none; padding-left: 0; width: 100%; }
            .slide ul li { position: relative; padding-left: 1.8em; margin-bottom: 0.8em; }
            .slide ul li::before {
                font-family: "Font Awesome 6 Free";
                font-weight: 900;
                content: '\f00c'; /* check icon */
                position: absolute;
                left: 0;
                color: var(--azure-blue);
                font-size: 1.1em;
            }
            .slide .highlight { background: linear-gradient(120deg, var(--azure-accent) 0%, var(--azure-blue-light) 100%); color: white; padding: 0.2em 0.4em; border-radius: 4px; }
            
            /* --- Styles Spécifiques aux Diapositives --- */

            .slide.lead { text-align: center; align-items: center; }
            .slide.lead h1 { font-size: clamp(3rem, 6vw, 4.5rem); font-weight: 700; }
            .slide.lead h3 { font-size: clamp(1.5rem, 3vw, 1.8rem); font-weight: 300; margin-top: 1rem; max-width: 800px; }

            .slide.invert {
                background-color: var(--bg-dark);
                color: var(--text-light);
                background-image:
                    linear-gradient(rgba(30,30,30,0.96), rgba(30,30,30,0.96)),
                    radial-gradient(circle at top left, var(--azure-blue-dark) 0%, transparent 40%),
                    radial-gradient(circle at bottom right, var(--azure-accent) 0%, transparent 30%);
            }
            .slide.invert h1, .slide.invert h2 { color: var(--text-light); border-color: var(--azure-accent); }
            .slide.invert h3, .slide.invert p, .slide.invert li { color: var(--text-light); opacity: 0.9; }
            .slide.invert strong { color: var(--azure-blue-light); }
            .slide.invert ul li::before { color: var(--azure-accent); }
            
            .slide-split { display: flex; align-items: center; justify-content: center; gap: 4vw; width: 100%; height: 100%; }
            .slide-split .content-side { flex: 1; padding-right: 2vw; }
            .slide-split .code-side { flex: 1.2; background: var(--code-bg); padding: 1.5rem; border-radius: 8px; height: 80%; overflow-y: auto; position: relative; }
            .slide-split .code-side pre, .slide-split .code-side code { font-family: var(--font-code); font-size: 0.85rem; line-height: 1.6; color: #abb2bf; background: none !important; padding: 0 !important; }

            .slide-about-me { display: flex; flex-direction: row; align-items: center; gap: 5vw; }
            .photo-side { flex: 0 0 300px; text-align: center; }
            .photo-side img { width: 300px; height: 300px; border-radius: 50%; object-fit: cover; border: 5px solid var(--azure-blue); box-shadow: 0 10px 30px rgba(0, 120, 212, 0.3); }
            .bio-side { flex: 1; }
            .bio-side ul li { padding-left: 2.5em; }
            .bio-side ul li i { position: absolute; left: 0; top: 8px; font-size: 1.5em; color: var(--azure-blue); width: 1.5em; text-align: center; }


            .code-block { background: var(--code-bg); padding: 1.5rem; border-radius: 8px; margin-top: 1rem; position: relative; }
            .code-block pre, .code-block code { font-family: var(--font-code); font-size: 0.9rem; line-height: 1.6; color: #abb2bf; }
            .copy-btn { position: absolute; top: 10px; right: 10px; background: #4a505c; color: white; border: none; border-radius: 4px; padding: 5px 10px; cursor: pointer; opacity: 0.6; transition: all 0.2s; }
            .copy-btn:hover { opacity: 1; background: var(--azure-blue); }
            .code-block .keyword { color: #c678dd; } .code-block .string { color: #98c379; } .code-block .comment { color: #5c6370; font-style: italic; } .code-block .variable { color: #e06c75; } .code-block .number { color: #d19a66; } .code-block .function { color: #61afef; }
            
            .diagram-container { width: 100%; height: 100%; display: flex; align-items: center; justify-content: center; }
            .diagram-container svg { max-width: 100%; max-height: 85vh; }
            
            .nav-button { position: fixed; z-index: 10; bottom: 20px; background-color: rgba(0, 0, 0, 0.5); color: white; border: none; border-radius: 50%; width: 50px; height: 50px; font-size: 24px; cursor: pointer; transition: all 0.3s; display: flex; justify-content: center; align-items: center; }
            .nav-button:hover { background-color: var(--azure-blue); transform: scale(1.1); }
            #prev-btn { left: 20px; }
            #next-btn { right: 20px; }
            .progress-bar { position: fixed; bottom: 0; left: 0; height: 6px; width: 100%; background-color: #444; z-index: 5; }
            .progress { height: 100%; background-color: var(--azure-accent); width: 0%; transition: width 0.4s ease-out; }
            .slide-counter { position: fixed; bottom: 15px; left: 50%; transform: translateX(-50%); z-index: 10; color: #fff; background: rgba(0,0,0,0.5); padding: 5px 15px; border-radius: 15px; font-size: 0.9rem; }
            
            @media (max-width: 900px) {
                .slide-split, .slide-about-me { flex-direction: column; text-align: center; }
                .slide-split .code-side { width: 100%; height: 40%; margin-top: 2rem; }
                .photo-side { margin-bottom: 2rem; }
                .photo-side img { width: 200px; height: 200px; }
            }
        </style>
    </head>
    <body>

        <div class="presentation-container">

            <!-- Slide 1: Titre -->
            <div class="slide lead invert active">
                <h1>Déploiement d'une Architecture Cloud Moderne</h1>
                <h3>De l'Infrastructure as Code au Pipeline CI/CD sur <strong>Microsoft Azure</strong></h3>
            </div>
            
            <!-- Slide 2: À propos de moi -->
            <div class="slide slide-about-me">
                <div class="photo-side">
                    <img src="image/avatar.png" alt="Photo de Mohamad El Akhal">
                </div>            <div class="bio-side">
                    <h2>À propos de moi</h2>
                    <h3>El Akhal Mohamad - SysAdmin - Infra & Cyber </h3>
                    <ul>
                        <li><i class="fas fa-graduation-cap"></i><strong>Formation :</strong> Systèmes et Réseaux → Spécialisation infra on-premises & Cybersecurité</li>
                        <li><i class="fas fa-cloud"></i><strong>Passion :</strong> Architecture cloud moderne, scalabilité et performance</li>
                        <li><i class="fas fa-shield-halved"></i><strong>Obsession :</strong> Cybersécurité "by design" - Sécuriser dès la conception</li>
                        <li><i class="fas fa-cogs"></i><strong>Expertise :</strong> Terraform, GitLab CI/CD, Docker, Infrastructure as Code</li>
                        <li><i class="fas fa-mountain"></i><strong>Détente :</strong> Randonneur amateur - La montagne pour déconnecter du code !</li>
                    </ul>
                    
                    <div style="margin-top: 1.5rem; padding: 1rem; background: linear-gradient(120deg, #0078D4 0%, #00bcf2 100%); border-radius: 8px; color: white;">
                        Démocratiser le cloud et prouver qu'une infrastructure moderne n'est pas réservée aux GAFAM !
                    </div>
                </div>        </div>

            <!-- Slide 3: Agenda -->
            <div class="slide">
                <h2>🗓️ Agenda de cette présentation</h2>
                <h3>Un voyage de l'idée à la production en 4 étapes</h3>
                <ul style="font-size: 1.3em; line-height: 2;">
                    <li><strong>1. Fondamentaux Cloud & DevOps</strong><br><span style="color: #666; font-size: 0.8em;">Cloud Computing, DevOps, Infrastructure as Code</span></li>
                    <li><strong>2. Construction avec Terraform</strong><br><span style="color: #666; font-size: 0.8em;">Réseau, Compute, Sécurité, Base de données</span></li>
                    <li><strong>3. Automatisation avec GitLab CI/CD</strong><br><span style="color: #666; font-size: 0.8em;">Pipeline sécurisé, Build, Test, Deploy</span></li>
                    <li><strong>4. Démo & Retour d'expérience</strong><br><span style="color: #666; font-size: 0.8em;">Architecture finale, métriques, leçons apprises</span></li>
                </ul>
                <div style="margin-top: 2rem; padding: 1rem; background: linear-gradient(120deg, #0078D4 0%, #00bcf2 100%); border-radius: 8px; color: white;">
                    <strong>🎯 Objectif :</strong> Vous montrer comment construire une infrastructure Azure moderne, sécurisée et entièrement automatisée
                </div>
            </div>        <!-- Slide 4: Concepts Fondamentaux 1 - Cloud Computing Diagram -->
            <div class="slide">
                <h2>Qu'est-ce que le Cloud Computing ?</h2>
                <h3>Une nouvelle façon de consommer l'informatique</h3>
                
                <div style="display: flex; flex-direction: row; justify-content: space-between; gap: 20px; margin-top: 20px;">
                    <!-- Left side: Traditional IT -->
                    <div style="flex: 1; background: #f8f8f8; border-radius: 10px; padding: 20px; position: relative;">
                        <h4 style="margin-bottom: 15px; color: #e74c3c;">Modèle Traditionnel</h4>
                        <svg width="100%" height="240" viewBox="0 0 300 240">
                            <!-- Server Rack -->
                            <rect x="90" y="20" width="120" height="200" fill="#d3d3d3" stroke="#333" stroke-width="2" />
                            <rect x="100" y="30" width="100" height="20" fill="#555" stroke="#333" stroke-width="1" />
                            <rect x="100" y="60" width="100" height="20" fill="#555" stroke="#333" stroke-width="1" />
                            <rect x="100" y="90" width="100" height="20" fill="#555" stroke="#333" stroke-width="1" />
                            <rect x="100" y="120" width="100" height="20" fill="#555" stroke="#333" stroke-width="1" />
                            <rect x="100" y="150" width="100" height="20" fill="#555" stroke="#333" stroke-width="1" />
                            <rect x="100" y="180" width="100" height="20" fill="#555" stroke="#333" stroke-width="1" />
                            
                            <!-- Maintenance Person -->
                            <circle cx="40" cy="180" r="15" fill="#f39c12" />
                            <rect x="35" y="195" width="10" height="30" fill="#f39c12" />
                            <line x1="40" y1="210" x2="20" y2="230" stroke="#f39c12" stroke-width="5" />
                            <line x1="40" y1="210" x2="60" y2="230" stroke="#f39c12" stroke-width="5" />
                            <line x1="45" y1="195" x2="65" y2="185" stroke="#f39c12" stroke-width="5" />
                            
                            <!-- Euro Signs -->
                            <text x="230" y="50" font-family="Arial" font-size="24" fill="#2ecc71">€€€</text>
                            <text x="240" y="80" font-family="Arial" font-size="24" fill="#2ecc71">€</text>
                            <text x="220" y="110" font-family="Arial" font-size="24" fill="#2ecc71">€€</text>
                            <text x="235" y="140" font-family="Arial" font-size="24" fill="#2ecc71">€</text>
                        </svg>
                        <ul style="list-style-type: none; padding-left: 10px;">
                            <li style="margin-bottom: 8px;">🔴 Investissement initial lourd</li>
                            <li style="margin-bottom: 8px;">🔴 Capacité fixe (sur-/sous-dimensionnée)</li>
                            <li style="margin-bottom: 8px;">🔴 Maintenance & sécurité physique</li>
                        </ul>
                    </div>
                    
                    <!-- Right side: Cloud Computing -->
                    <div style="flex: 1; background: #eaf2fd; border-radius: 10px; padding: 20px; position: relative;">
                        <h4 style="margin-bottom: 15px; color: #0078D4;">Cloud Computing</h4>
                        <svg width="100%" height="240" viewBox="0 0 300 240">
                            <!-- Cloud Shape -->
                            <path d="M100,80 Q120,50 150,50 Q180,50 200,70 Q230,70 250,90 Q280,100 280,130 Q280,160 250,170 Q240,190 210,190 Q170,200 150,180 Q120,200 90,170 Q70,160 70,130 Q70,100 100,80" fill="#0078D4" opacity="0.3" stroke="#0078D4" stroke-width="2" />
                            
                            <!-- Icons inside cloud -->
                            <rect x="110" y="90" width="30" height="40" fill="#0078D4" rx="5" />
                            <rect x="160" y="100" width="30" height="40" fill="#0078D4" rx="5" />
                            <rect x="210" y="90" width="30" height="40" fill="#0078D4" rx="5" />
                            
                            <!-- Dial/Meter -->
                            <circle cx="150" y="160" r="25" fill="white" stroke="#0078D4" stroke-width="2" />
                            <line x1="150" y1="160" x2="150" y2="140" stroke="#e74c3c" stroke-width="3" />
                            <text x="140" y="165" font-family="Arial" font-size="8" fill="#333">PAY</text>
                            
                            <!-- User/Device -->
                            <rect x="60" y="210" width="40" height="25" fill="#555" rx="2" />
                            <rect x="65" y="205" width="30" height="5" fill="#777" />
                            <line x1="80" y1="160" x2="80" y2="205" stroke="#0078D4" stroke-width="2" stroke-dasharray="5,3" />
                            
                            <rect x="150" y="210" width="40" height="25" fill="#555" rx="2" />
                            <rect x="155" y="205" width="30" height="5" fill="#777" />
                            <line x1="170" y1="180" x2="170" y2="205" stroke="#0078D4" stroke-width="2" stroke-dasharray="5,3" />
                            
                            <rect x="240" y="210" width="40" height="25" fill="#555" rx="2" />
                            <rect x="245" y="205" width="30" height="5" fill="#777" />
                            <line x1="260" y1="160" x2="260" y2="205" stroke="#0078D4" stroke-width="2" stroke-dasharray="5,3" />
                        </svg>
                        <ul style="list-style-type: none; padding-left: 10px;">
                            <li style="margin-bottom: 8px;">🟢 Paiement à l'usage</li>
                            <li style="margin-bottom: 8px;">🟢 Scalabilité instantanée</li>
                            <li style="margin-bottom: 8px;">🟢 Sécurité et maintenance incluses</li>
                        </ul>
                    </div>
                </div>
                
                <div style="margin-top: 20px; padding: 10px; background-color: #f0f7ff; border-left: 5px solid #0078D4; border-radius: 5px;">
                    <strong>Analogie :</strong> Le cloud est à l'informatique ce que le réseau électrique est à l'électricité - une ressource à la demande sans investissement initial.
                </div>
            </div>        <!-- Slide 5: DevOps Visualization -->
            <div class="slide invert">
                <h2>La Philosophie DevOps</h2>
                <h3>Briser les silos pour accélérer l'innovation</h3>
                
                <div style="display: flex; justify-content: center; align-items: center; margin: 10px 0 30px 0;">
                    <!-- DevOps Loop Image -->
                    <img src="image/devopsloop.png" alt="DevOps Infinity Loop" style="max-width: 80%; max-height: 300px; object-fit: contain; border-radius: 10px; box-shadow: 0 5px 15px rgba(0,0,0,0.3);">
                </div>
                
                <div style="display: flex; justify-content: space-between; gap: 20px;">
                    <!-- Before DevOps -->
                    <div style="flex: 1; background: rgba(231, 76, 60, 0.2); padding: 15px; border-radius: 8px; border-left: 5px solid #e74c3c;">
                        <h4 style="color: #e74c3c; margin-bottom: 10px;">Avant DevOps: Le Mur de la Confusion</h4>
                        <svg width="100%" height="120" viewBox="0 0 240 120">
                            <!-- Dev Team -->
                            <circle cx="50" cy="45" r="15" fill="#3498db" />
                            <circle cx="30" cy="60" r="15" fill="#3498db" />
                            <circle cx="70" cy="60" r="15" fill="#3498db" />
                            <text x="50" y="50" font-family="Arial" font-size="10" fill="white" text-anchor="middle">DEV</text>
                            
                            <!-- Wall -->
                            <rect x="110" y="10" width="20" height="100" fill="#95a5a6" />
                            <rect x="110" y="10" width="20" height="10" fill="#7f8c8d" />
                            <rect x="110" y="30" width="20" height="10" fill="#7f8c8d" />
                            <rect x="110" y="50" width="20" height="10" fill="#7f8c8d" />
                            <rect x="110" y="70" width="20" height="10" fill="#7f8c8d" />
                            <rect x="110" y="90" width="20" height="10" fill="#7f8c8d" />
                            
                            <!-- Code being thrown -->
                            <text x="95" y="40" font-family="Arial" font-size="18" fill="#333" transform="rotate(-15 95 40)">{...}</text>
                            <path d="M80,40 Q120,20 160,40" fill="none" stroke="#333" stroke-width="2" stroke-dasharray="5,3" />
                            
                            <!-- Ops Team -->
                            <circle cx="190" cy="45" r="15" fill="#e74c3c" />
                            <circle cx="170" cy="60" r="15" fill="#e74c3c" />
                            <circle cx="210" cy="60" r="15" fill="#e74c3c" />
                            <text x="190" y="50" font-family="Arial" font-size="10" fill="white" text-anchor="middle">OPS</text>
                            
                            <!-- Clock/Time -->
                            <circle cx="120" cy="100" r="15" fill="#f39c12" stroke="#333" stroke-width="2" />
                            <line x1="120" y1="100" x2="120" y2="90" stroke="#333" stroke-width="2" />
                            <line x1="120" y1="100" x2="130" y2="100" stroke="#333" stroke-width="2" />
                            <text x="145" y="105" font-family="Arial" font-size="10" fill="#333">Semaines</text>
                        </svg>
                    </div>
                    
                    <!-- After DevOps -->
                    <div style="flex: 1; background: rgba(46, 204, 113, 0.2); padding: 15px; border-radius: 8px; border-left: 5px solid #2ecc71;">
                        <h4 style="color: #2ecc71; margin-bottom: 10px;">Avec DevOps: Collaboration & Automatisation</h4>
                        <svg width="100%" height="120" viewBox="0 0 240 120">
                            <!-- Unified Team -->
                            <circle cx="60" cy="45" r="15" fill="#3498db" />
                            <text x="60" y="50" font-family="Arial" font-size="10" fill="white" text-anchor="middle">DEV</text>
                            
                            <circle cx="180" cy="45" r="15" fill="#e74c3c" />
                            <text x="180" y="50" font-family="Arial" font-size="10" fill="white" text-anchor="middle">OPS</text>
                            
                            <!-- Automation Pipeline -->
                            <rect x="90" y="40" width="60" height="30" rx="5" fill="#16a085" />
                            <text x="120" y="60" font-family="Arial" font-size="10" fill="white" text-anchor="middle">PIPELINE</text>
                            
                            <!-- Arrows -->
                            <path d="M75,45 L90,45" fill="none" stroke="#333" stroke-width="2" marker-end="url(#arrow)" />
                            <path d="M150,45 L165,45" fill="none" stroke="#333" stroke-width="2" marker-end="url(#arrow)" />
                            <defs>
                                <marker id="arrow" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto">
                                    <path d="M0,0 L0,6 L9,3 z" fill="#333" />
                                </marker>
                            </defs>
                            
                            <!-- Clock/Time -->
                            <circle cx="120" cy="100" r="15" fill="#2ecc71" stroke="#333" stroke-width="2" />
                            <line x1="120" y1="100" x2="120" y2="90" stroke="#333" stroke-width="2" />
                            <line x1="120" y1="100" x2="130" y2="100" stroke="#333" stroke-width="2" />
                            <text x="145" y="105" font-family="Arial" font-size="10" fill="#333">Minutes</text>
                        </svg>
                    </div>
                </div>
                
                <div style="margin-top: 20px; padding: 10px; background-color: rgba(255,255,255,0.1); border-left: 5px solid #00bcf2; border-radius: 5px;">
                    <strong>DevOps est une culture</strong> de collaboration et d'automatisation qui unit développement et opérations pour livrer des logiciels plus rapidement et plus fiablement.
                </div>
            </div>        <!-- Slide 6: Infrastructure as Code -->
            <div class="slide">
                <h2>L'Infrastructure as Code (IaC) avec Terraform 🏗️</h2>
                <h3>Gérer l'infrastructure comme on gère du code.</h3>
                <p>L'IaC consiste à définir l'infrastructure (réseaux, VMs...) à l'aide de fichiers de configuration, plutôt que par des clics dans une interface graphique.</p>
                <ul>
                    <li><strong>Reproductibilité :</strong> Déployez le même environnement à chaque fois, sans surprise.</li>
                    <li><strong>Versionnement :</strong> Suivez les changements de votre infra avec Git, comme pour votre application.</li>
                    <li><strong>Automatisation :</strong> Intégrez le provisioning de l'infra dans votre pipeline CI/CD.</li>
                    <li><strong>Notre outil de choix :</strong> <strong class="highlight">Terraform</strong>, pour sa capacité à décrire l'état désiré de notre infrastructure.</li>
                </ul>
            </div>

            <!-- Slide 7: Vue d'ensemble de l'Architecture -->
            <div class="slide invert">
                <h2>Vue d'ensemble de notre Architecture Cloud</h2>
                <h3>Une infrastructure moderne, sécurisée et scalable sur Azure</h3>

                    <div style="display: flex; justify-content: center; align-items: center; margin: 20px 0;">
                        <img src="image/diagramme-projet.png" alt="Architecture globale du projet" style="max-width: 90%; max-height: 60vh; object-fit: contain; border-radius: 15px; box-shadow: 0 10px 30px rgba(0, 120, 212, 0.4); border: 2px solid rgba(255,255,255,0.1);">
                    </div>
                
                <div style="margin-top: 20px; padding: 15px; background: linear-gradient(120deg, #0078D4 0%, #00bcf2 100%); border-radius: 10px; text-align: center;">
                    <strong>🎯 Objectif :</strong> Une architecture qui respecte les bonnes pratiques Azure et les principes de sécurité "by design"
                </div>
            </div>
            
            <!-- Section Terraform -->
            <div class="slide invert">
                <h2>Partie 1 : Bâtir avec Terraform (IaC)</h2>
                <h3>On définit l'architecture avec du code. Pas de clics, pas d'erreurs.</h3>
            </div>

            <!-- Slide 6: Terraform - Réseau -->
            <div class="slide">
                <div class="slide-split">
                    <div class="content-side">
                        <h2>IaC : Les Fondations (Réseau)</h2>
                        <p>Tout commence par un réseau privé et sécurisé.</p>
                        <ul>
                            <li><strong>azurerm_virtual_network :</strong> Crée notre VNet, un espace 100% isolé dans le cloud Azure.</li>
                            <li><strong>azurerm_subnet :</strong> Segmente le VNet en sous-réseaux. On sépare ce qui est public (serveurs web) de ce qui est privé (base de données).</li>
                            <li><strong>azurerm_network_security_group :</strong> Agit comme un pare-feu pour filtrer le trafic entre les subnets et avec Internet.</li>
                        </ul>
                    </div>
                    <div class="code-side">
                        <button class="copy-btn" onclick="copyCode(this)">Copier</button>
                        <pre><code><span class="comment"># Fichier: main.tf</span>
    <span class="keyword">resource</span> <span class="string">"azurerm_virtual_network"</span> <span class="function">"main"</span> { ... }
    <span class="keyword">resource</span> <span class="string">"azurerm_subnet"</span> <span class="function">"public_subnet_1"</span> { ... }
    <span class="keyword">resource</span> <span class="string">"azurerm_subnet"</span> <span class="function">"private_subnet_1"</span> { ... }</code></pre>
                    </div>
                </div>
            </div>


            <!-- Slide 7: Terraform - Compute -->
            <div class="slide">
                <div class="slide-split">
                    <div class="content-side">
                        <h2>IaC : La Puissance de Calcul</h2>
                        <p>Pour l'application, on a besoin de serveurs web scalables et résilients.</p>
                        <ul>
                            <li><strong>azurerm_linux_virtual_machine_scale_set :</strong> Au lieu de VMs uniques, un "Scale Set" gère un groupe de VMs identiques. C'est la clé de la scalabilité et de la haute disponibilité.</li>
                            <li><strong>instances = 2 :</strong> On garantit au minimum 2 serveurs.</li>
                            <li><strong>zones = ["1", "2"] :</strong> Les VMs sont réparties sur 2 datacenters physiquement distincts (Zones de Disponibilité). Si une zone tombe, l'autre assure la continuité.</li>
                        </ul>
                    </div>
                    <div class="code-side">
                        <button class="copy-btn" onclick="copyCode(this)">Copier</button>
                        <pre><code><span class="comment"># Fichier: main.tf</span>

    <span class="keyword">resource</span> <span class="string">"azurerm_linux_virtual_machine_scale_set"</span> <span class="function">"main_vmss"</span> {
    <span class="variable">name</span>                = <span class="string">"${var.project_name}-vmss-app"</span>
    <span class="variable">sku</span>                 = <span class="string">"Standard_F1s"</span>
    <span class="variable">instances</span>           = <span class="number">2</span>
    <span class="variable">zones</span>               = [<span class="string">"1"</span>, <span class="string">"2"</span>]
    <span class="variable">admin_username</span>      = var.admin_username

    <span class="variable">source_image_reference</span> {
        <span class="variable">publisher</span> = <span class="string">"Canonical"</span>
        <span class="variable">offer</span>     = <span class="string">"0001-com-ubuntu-server-jammy"</span>
        <span class="variable">sku</span>       = <span class="string">"22_04-lts-gen2"</span>
        <span class="variable">version</span>   = <span class="string">"latest"</span>
    }

    <span class="variable">network_interface</span> {
        <span class="comment"># ... attachement au subnet public et au Load Balancer</span>
        <span class="variable">load_balancer_backend_address_pool_ids</span> = [
        azurerm_lb_backend_address_pool.backend_pool.id
        ]
    }
    }</code></pre>
                    </div>
                </div>
            </div>
            
            <!-- Slide 8: Terraform - Data -->
            <div class="slide">
                <div class="slide-split">
                    <div class="content-side">
                        <h2>IaC : La Donnée, Sécurisée</h2>
                        <p>La base de données est le cœur de l'application. Sa sécurité est non-négociable.</p>
                        <ul>
                            <li><strong>azurerm_mssql_server :</strong> Un service de BDD managé (PaaS). Azure s'occupe des mises à jour, des sauvegardes, de la sécurité de l'OS. On se concentre sur les données.</li>
                            <li><strong>public_network_access_enabled = false :</strong> C'est <strong class="highlight">CRUCIAL</strong>. On interdit TOUT accès depuis Internet.</li>
                            <li><strong>azurerm_private_endpoint :</strong> Crée une "carte réseau" privée pour notre serveur SQL dans notre subnet privé. C'est la seule façon d'y accéder.</li>
                        </ul>
                    </div>
                    <div class="code-side">
                        <button class="copy-btn" onclick="copyCode(this)">Copier</button>
                        <pre><code><span class="comment"># Fichier: main.tf</span>

    <span class="keyword">resource</span> <span class="string">"azurerm_mssql_server"</span> <span class="function">"sql_server"</span> {
    <span class="variable">name</span> = <span class="string">"${var.project_name}-sqlserver"</span>
    <span class="comment"># ...</span>
    <span class="variable">public_network_access_enabled</span> = <span class="keyword">false</span>
    }

    <span class="keyword">resource</span> <span class="string">"azurerm_mssql_database"</span> <span class="function">"db1"</span> {
    <span class="variable">name</span>      = <span class="string">"app-db"</span>
    <span class="variable">server_id</span> = azurerm_mssql_server.sql_server.id
    <span class="variable">sku_name</span>  = <span class="string">"S0"</span>
    }

    <span class="keyword">resource</span> <span class="string">"azurerm_private_endpoint"</span> <span class="function">"sql_pe"</span> {
    <span class="variable">name</span>      = <span class="string">"${var.project_name}-pe-sql"</span>
    <span class="variable">subnet_id</span> = azurerm_subnet.private_subnet_1.id
    
    <span class="variable">private_service_connection</span> {
        <span class="variable">name</span>                           = <span class="string">"sql-privatelink"</span>
        <span class="variable">private_connection_resource_id</span> = azurerm_mssql_server.sql_server.id
        <span class="variable">subresource_names</span>              = [<span class="string">"sqlServer"</span>]
    }
    }</code></pre>
                    </div>
                </div>
            </div>
            
            <!-- Slide 9: Terraform - Bastion -->
            <div class="slide">
                <div class="slide-split">
                    <div class="content-side">
                        <h2>IaC : La Porte d'Entrée Sécurisée</h2>
                        <p>Comment administrer nos VMs si elles n'ont pas de port SSH ouvert sur Internet ?</p>
                        <ul>
                            <li><strong>Le Problème :</strong> Exposer le port 22 (SSH) sur Internet est une faille de sécurité majeure (scans, attaques brute-force).</li>
                            <li><strong>La Solution :</strong> Un <strong class="highlight">Bastion Host</strong>. C'est une VM "durcie" qui est la seule à avoir un port SSH accessible depuis une IP de confiance.</li>
                            <li><strong>Le Flux :</strong> Pour se connecter à une VM privée, on se connecte d'abord au Bastion, et depuis le Bastion, on "rebondit" (ProxyJump) vers la VM cible. Le trafic ne quitte jamais notre VNet.</li>
                        </ul>
                    </div>
                    <div class="code-side">
                        <button class="copy-btn" onclick="copyCode(this)">Copier</button>
                        <pre><code><span class="comment"># Fichier: main.tf</span>

    <span class="keyword">resource</span> <span class="string">"azurerm_public_ip"</span> <span class="function">"bastion_pip"</span> {
    <span class="variable">name</span> = <span class="string">"pip-bastion"</span>
    <span class="comment"># ...</span>
    }

    <span class="keyword">resource</span> <span class="string">"azurerm_linux_virtual_machine"</span> <span class="function">"bastion"</span> {
    <span class="variable">name</span>           = <span class="string">"vm-bastion"</span>
    <span class="variable">admin_username</span> = var.admin_username
    <span class="comment"># ...</span>
    <span class="variable">network_interface_ids</span> = [
        azurerm_network_interface.bastion_nic.id,
    ]
    }

    <span class="comment"># NSG pour le bastion autorise SSH UNIQUEMENT
    # depuis une liste d'IPs de confiance (var.allowed_ssh_ips)</span>
    <span class="keyword">resource</span> <span class="string">"azurerm_network_security_group"</span> <span class="function">"public_nsg"</span> {
    <span class="comment"># ...</span>
    <span class="variable">security_rule</span> {
        <span class="variable">name</span>                    = <span class="string">"SSH"</span>
        <span class="variable">priority</span>                = <span class="number">1001</span>
        <span class="variable">access</span>                  = <span class="string">"Allow"</span>
        <span class="variable">protocol</span>                = <span class="string">"Tcp"</span>
        <span class="variable">destination_port_range</span>  = <span class="string">"22"</span>
        <span class="variable">source_address_prefixes</span> = var.allowed_ssh_ips
    }
    }</code></pre>
                    </div>
                </div>
            </div>

            <!-- Section CI/CD -->
            <div class="slide invert">
                <h2>Partie 2 : Automatiser avec GitLab CI/CD</h2>
                <h3>Le moteur qui transforme notre code en application déployée.</h3>
            </div>

            <!-- Slide 10: CI/CD - Intro -->
            <div class="slide">
                <h2>Le CI/CD : Une chaîne d'assemblage logicielle</h2>
                <h3>Imaginez une usine automatisée pour votre code.</h3>
                <p>Chaque fois qu'un développeur pousse du code (`git push`), une série d'étapes automatiques se déclenche pour transformer ce code en une application fonctionnelle et déployée en production.</p>
                <div class="diagram-container">
                    <svg viewBox="0 0 800 200" xmlns="http://www.w3.org/2000/svg">
                        <text x="10" y="20" font-size="18" fill="#333">Développeur</text>
                        <text x="70" y="80" font-size="60">💻</text>
                        <path d="M 150 85 h 50" stroke="#333" stroke-width="2" marker-end="url(#arrow-dark)"/>
                        <text x="160" y="60" font-size="14" fill="#555">git push</text>

                        <rect x="230" y="40" width="340" height="90" rx="10" fill="#f0f0f0" stroke="#ccc"/>
                        <text x="400" y="20" font-size="18" fill="#333" text-anchor="middle">Pipeline CI/CD</text>
                        <text x="280" y="85" font-size="16" fill="#0078D4">Test</text>
                        <path d="M 320 80 h 20" stroke="#ccc" stroke-width="2" marker-end="url(#arrow-dark)"/>
                        <text x="360" y="85" font-size="16" fill="#0078D4">Build</text>
                        <path d="M 405 80 h 20" stroke="#ccc" stroke-width="2" marker-end="url(#arrow-dark)"/>
                        <text x="445" y="85" font-size="16" fill="#0078D4">Deploy</text>
                        
                        <path d="M 570 85 h 50" stroke="#333" stroke-width="2" marker-end="url(#arrow-dark)"/>
                        <text x="680" y="80" font-size="60">🚀</text>
                        <text x="635" y="140" font-size="18" fill="#333">Application en ligne</text>
                        <defs><marker id="arrow-dark" viewBox="0 0 10 10" refX="8" refY="5" markerWidth="6" markerHeight="6" orient="auto-start-reverse"><path d="M 0 0 L 10 5 L 0 10 z" fill="#333"/></marker></defs>
                    </svg>
                </div>
            </div>        <!-- Slide 11: CI/CD - Diagramme complet -->
            <div class="slide invert">
                <h2>Notre Pipeline CI/CD : Du Code à la Production</h2>
                <div class="diagram-container">
                    <svg viewBox="0 0 1200 600" xmlns="http://www.w3.org/2000/svg" font-family="var(--font-primary)">
                        <!-- Définitions des styles réutilisables -->
                        <defs>
                            <!-- Flèches colorées -->
                            <marker id="arrow-white" viewBox="0 0 10 10" refX="9" refY="3" markerWidth="6" markerHeight="6" orient="auto">
                                <path d="M0,0 L0,6 L9,3 z" fill="#ffffff"/>
                            </marker>
                            <marker id="arrow-azure" viewBox="0 0 10 10" refX="9" refY="3" markerWidth="6" markerHeight="6" orient="auto">
                                <path d="M0,0 L0,6 L9,3 z" fill="#0078D4"/>
                            </marker>
                            <marker id="arrow-green" viewBox="0 0 10 10" refX="9" refY="3" markerWidth="6" markerHeight="6" orient="auto">
                                <path d="M0,0 L0,6 L9,3 z" fill="#98c379"/>
                            </marker>
                            <marker id="arrow-orange" viewBox="0 0 10 10" refX="9" refY="3" markerWidth="6" markerHeight="6" orient="auto">
                                <path d="M0,0 L0,6 L9,3 z" fill="#d19a66"/>
                            </marker>
                            <marker id="arrow-red" viewBox="0 0 10 10" refX="9" refY="3" markerWidth="6" markerHeight="6" orient="auto">
                                <path d="M0,0 L0,6 L9,3 z" fill="#e06c75"/>
                            </marker>
                            
                            <!-- Gradients -->
                            <linearGradient id="pipelineGradient" x1="0%" y1="0%" x2="100%" y2="0%">
                                <stop offset="0%" style="stop-color:#2d2d2d;stop-opacity:1" />
                                <stop offset="100%" style="stop-color:#1a1a1a;stop-opacity:1" />
                            </linearGradient>
                            <linearGradient id="azureGradient" x1="0%" y1="0%" x2="100%" y2="100%">
                                <stop offset="0%" style="stop-color:#0078D4;stop-opacity:0.8" />
                                <stop offset="100%" style="stop-color:#005A9E;stop-opacity:0.9" />
                            </linearGradient>
                        </defs>

                        <!-- Background -->
                        <rect width="100%" height="100%" fill="#1e1e1e"/>
                        
                        <!-- SECTION 1: DÉVELOPPEUR -->
                        <g id="developer-section">
                            <circle cx="70" cy="300" r="40" fill="url(#azureGradient)" stroke="#00bcf2" stroke-width="2"/>
                            <text x="70" y="285" fill="#fff" font-size="20" text-anchor="middle">👨‍💻</text>
                            <text x="70" y="305" fill="#fff" font-size="12" text-anchor="middle" font-weight="bold">DEV</text>
                            
                            <text x="70" y="355" fill="#f5f5f5" font-size="14" text-anchor="middle" font-weight="600">Développeur</text>
                            <text x="70" y="375" fill="#aaa" font-size="11" text-anchor="middle">git push</text>
                            
                            <!-- Flèche vers Pipeline -->
                            <path d="M 115 300 L 170 300" stroke="#ffffff" stroke-width="3" marker-end="url(#arrow-white)"/>
                            <text x="142" y="290" fill="#fff" font-size="11" text-anchor="middle">commit</text>
                        </g>

                        <!-- SECTION 2: PIPELINE CI/CD -->
                        <g id="pipeline-section">
                            <rect x="180" y="150" width="320" height="300" rx="20" fill="url(#pipelineGradient)" stroke="#444" stroke-width="2"/>
                            
                            <!-- Titre du Pipeline -->
                            <text x="340" y="175" fill="#ffffff" font-size="16" text-anchor="middle" font-weight="bold">🚀 Pipeline GitLab CI/CD</text>
                            
                            <!-- Stage 1: Secret Scan -->
                            <g id="stage1" transform="translate(200, 190)">
                                <rect width="120" height="35" rx="6" fill="#d19a66" fill-opacity="0.2" stroke="#d19a66" stroke-width="1.5"/>
                                <text x="10" y="18" fill="#d19a66" font-size="14">🔒</text>
                                <text x="30" y="16" fill="#ffffff" font-size="11" font-weight="600">Secret Scan</text>
                                <text x="30" y="28" fill="#cccccc" font-size="9">GitLeaks</text>
                            </g>
                            
                            <!-- Flèche Stage 1 -> 2 -->
                            <path d="M 340 240 L 340 255" stroke="#ffffff" stroke-width="2" marker-end="url(#arrow-white)"/>
                            
                            <!-- Stage 2: Security Tests -->
                            <g id="stage2" transform="translate(200, 265)">
                                <rect width="120" height="35" rx="6" fill="#61afef" fill-opacity="0.2" stroke="#61afef" stroke-width="1.5"/>
                                <text x="10" y="18" fill="#61afef" font-size="14">🛡️</text>
                                <text x="30" y="16" fill="#ffffff" font-size="11" font-weight="600">Security Tests</text>
                                <text x="30" y="28" fill="#cccccc" font-size="9">SAST Analysis</text>
                            </g>
                            
                            <!-- Flèche Stage 2 -> 3 -->
                            <path d="M 340 315 L 340 330" stroke="#ffffff" stroke-width="2" marker-end="url(#arrow-white)"/>
                            
                            <!-- Stage 3: Build -->
                            <g id="stage3" transform="translate(200, 340)">
                                <rect width="120" height="35" rx="6" fill="#98c379" fill-opacity="0.2" stroke="#98c379" stroke-width="1.5"/>
                                <text x="10" y="18" fill="#98c379" font-size="14">🐳</text>
                                <text x="30" y="16" fill="#ffffff" font-size="11" font-weight="600">Build Docker</text>
                                <text x="30" y="28" fill="#cccccc" font-size="9">Create Image</text>
                            </g>
                            
                            <!-- Stage 4: Deploy -->
                            <g id="stage4" transform="translate(200, 390)">
                                <rect width="120" height="35" rx="6" fill="#e06c75" fill-opacity="0.2" stroke="#e06c75" stroke-width="1.5"/>
                                <text x="10" y="18" fill="#e06c75" font-size="14">🚀</text>
                                <text x="30" y="16" fill="#ffffff" font-size="11" font-weight="600">Deploy</text>
                                <text x="30" y="28" fill="#cccccc" font-size="9">Via Bastion</text>
                            </g>
                            
                            <!-- Flèche vers Registry -->
                            <path d="M 520 300 L 580 300" stroke="#98c379" stroke-width="3" marker-end="url(#arrow-green)"/>
                            <text x="550" y="290" fill="#98c379" font-size="11" text-anchor="middle">push</text>
                        </g>

                        <!-- SECTION 3: REGISTRY -->
                        <g id="registry-section">
                            <rect x="590" y="270" width="120" height="60" rx="12" fill="#2d2d2d" stroke="#d19a66" stroke-width="2"/>
                            <text x="650" y="290" fill="#ffffff" font-size="14" text-anchor="middle" font-weight="bold">📦 Registry</text>
                            
                            <!-- Container icon -->
                            <rect x="615" y="300" width="70" height="20" rx="3" fill="#d19a66" fill-opacity="0.3" stroke="#d19a66"/>
                            <text x="650" y="312" fill="#d19a66" font-size="10" text-anchor="middle" font-weight="600">app:latest</text>
                        </g>

                        <!-- SECTION 4: INFRASTRUCTURE AZURE -->
                        <g id="azure-infrastructure">
                            <!-- Conteneur Azure VNet -->
                            <rect x="750" y="80" width="420" height="480" rx="20" fill="none" stroke="#0078D4" stroke-width="3" stroke-dasharray="10,5"/>
                            <text x="960" y="105" fill="#0078D4" font-size="16" text-anchor="middle" font-weight="bold">☁️ Microsoft Azure - VNet</text>
                            
                            <!-- Bastion Host -->
                            <g transform="translate(770, 130)">
                                <rect width="100" height="60" rx="8" fill="url(#azureGradient)" stroke="#00bcf2" stroke-width="2"/>
                                <text x="50" y="20" fill="#ffffff" font-size="16" text-anchor="middle">🛡️</text>
                                <text x="50" y="35" fill="#ffffff" font-size="12" text-anchor="middle" font-weight="bold">Bastion</text>
                                <text x="50" y="50" fill="#f0f0f0" font-size="9" text-anchor="middle">SSH Gateway</text>
                            </g>
                            
                            <!-- Public Subnet -->
                            <rect x="770" y="210" width="180" height="160" rx="12" fill="#0078D4" fill-opacity="0.1" stroke="#0078D4" stroke-width="2" stroke-dasharray="5,3"/>
                            <text x="860" y="230" fill="#0078D4" font-size="12" text-anchor="middle" font-weight="600">Public Subnet (10.0.1.0/24)</text>
                            
                            <!-- Load Balancer -->
                            <g transform="translate(790, 250)">
                                <rect width="140" height="25" rx="12" fill="#00bcf2" fill-opacity="0.3" stroke="#00bcf2"/>
                                <text x="70" y="16" fill="#00bcf2" font-size="11" text-anchor="middle" font-weight="600">⚖️ Load Balancer</text>
                            </g>
                            
                            <!-- VM Scale Set - VM 1 -->
                            <g transform="translate(800, 290)">
                                <rect width="60" height="50" rx="6" fill="#0078D4" stroke="#ffffff" stroke-width="1"/>
                                <text x="30" y="16" fill="#ffffff" font-size="10" text-anchor="middle" font-weight="600">VM 1</text>
                                <text x="30" y="28" fill="#f0f0f0" font-size="8" text-anchor="middle">10.0.1.5</text>
                                <text x="30" y="38" fill="#f0f0f0" font-size="8" text-anchor="middle">Zone 1</text>
                                <circle cx="30" cy="45" r="2" fill="#98c379"/>
                            </g>
                            
                            <!-- VM Scale Set - VM 2 -->
                            <g transform="translate(870, 290)">
                                <rect width="60" height="50" rx="6" fill="#0078D4" stroke="#ffffff" stroke-width="1"/>
                                <text x="30" y="16" fill="#ffffff" font-size="10" text-anchor="middle" font-weight="600">VM 2</text>
                                <text x="30" y="28" fill="#f0f0f0" font-size="8" text-anchor="middle">10.0.1.8</text>
                                <text x="30" y="38" fill="#f0f0f0" font-size="8" text-anchor="middle">Zone 2</text>
                                <circle cx="30" cy="45" r="2" fill="#98c379"/>
                            </g>
                            
                            <!-- Private Subnet -->
                            <rect x="970" y="210" width="180" height="160" rx="12" fill="#005A9E" fill-opacity="0.1" stroke="#005A9E" stroke-width="2" stroke-dasharray="5,3"/>
                            <text x="1060" y="230" fill="#005A9E" font-size="12" text-anchor="middle" font-weight="600">Private Subnet (10.0.3.0/24)</text>
                            
                            <!-- Database avec Private Endpoint -->
                            <g transform="translate(990, 280)">
                                <ellipse cx="70" cy="25" rx="60" ry="18" fill="#2d2d2d" stroke="#d19a66" stroke-width="2"/>
                                <text x="70" y="20" fill="#d19a66" font-size="11" text-anchor="middle" font-weight="600">🗄️ SQL Database</text>
                                <text x="70" y="32" fill="#d19a66" font-size="9" text-anchor="middle">Private Endpoint</text>
                            </g>
                        </g>

                        <!-- FLÈCHES DE DÉPLOIEMENT -->
                        <!-- Registry vers VMs -->
                        <path d="M 710 315 L 800 320" stroke="#98c379" stroke-width="2" marker-end="url(#arrow-green)"/>
                        <text x="755" y="310" fill="#98c379" font-size="10" text-anchor="middle">pull images</text>
                        
                        <!-- Pipeline Deploy vers Bastion -->
                        <path d="M 340 450 Q 550 500 770 160" stroke="#e06c75" stroke-width="3" marker-end="url(#arrow-red)" fill="none"/>
                        <text x="550" y="520" fill="#e06c75" font-size="11" text-anchor="middle">SSH Connection</text>
                        
                        <!-- Bastion vers VMs (déploiement direct) -->
                        <path d="M 820 190 Q 820 220 830 290" stroke="#e06c75" stroke-width="2" marker-end="url(#arrow-red)" fill="none"/>
                        <path d="M 820 190 Q 820 220 900 290" stroke="#e06c75" stroke-width="2" marker-end="url(#arrow-red)" fill="none"/>
                        <text x="860" y="250" fill="#e06c75" font-size="9" text-anchor="middle">Deploy Script</text>
                        
                        <!-- VMs vers Database -->
                        <path d="M 860 320 Q 920 330 970 320" stroke="#0078D4" stroke-width="1.5" marker-end="url(#arrow-azure)" fill="none"/>
                        <text x="915" y="310" fill="#0078D4" font-size="9" text-anchor="middle">SQL Queries</text>
                        
                        <!-- Indicateurs de statut -->
                        <g id="status-indicators">
                            <circle cx="1140" cy="40" r="6" fill="#98c379"/>
                            <text x="1155" y="46" fill="#98c379" font-size="11" font-weight="600">✓ Sécurisé & Haute Disponibilité</text>
                        </g>
                    </svg>
                </div>
            </div>

            <!-- Slide 12: CI/CD - Stages 1 & 2 -->
            <div class="slide">
                <h2>Étape 1 & 2 : La Sécurité d'Abord (Shift-Left)</h2>
                <h3>On détecte les problèmes au plus tôt pour qu'ils coûtent moins cher à corriger.</h3>
                <ul>
                    <li><strong>Stage `secret-scan` (`gitleaks`) :</strong> Scanne le code à la recherche de "secrets" (clés, mots de passe). C'est notre première ligne de défense contre les fuites d'identifiants.</li>
                    <li><strong>Stage `test` (SAST) :</strong> Analyse statique du code PHP pour des vulnérabilités connues (injections SQL, XSS, etc.). C'est comme avoir un expert en sécurité qui relit notre code à chaque commit.</li>
                </ul>
            </div>
            
            <!-- Slide 13: CI/CD - Stage 3 -->
            <div class="slide">
                <h2>Étape 3 : Empaqueter avec Docker</h2>
                <h3>Transformer notre code en un artefact portable et standardisé.</h3>
                <p>Docker est comme une <strong class="highlight">boîte de transport universelle</strong> pour notre application. Le `Dockerfile` est le plan de montage de cette boîte. Il garantit que notre application fonctionnera de la même manière partout.</p>
                <ul>
                    <li>Le stage `build` exécute les instructions du `Dockerfile` (installe Apache, copie le code PHP, etc.).</li>
                    <li>L'image créée est une "photo" de notre application, prête à être exécutée.</li>
                    <li>On la "pousse" ensuite vers le <strong>GitLab Registry</strong>, notre entrepôt d'images privées.</li>
                </ul>
            </div>
            
            <!-- Slide 14: CI/CD - Déploiement en détail -->
            <div class="slide">
                <h2>Étape 4 : Le Déploiement via le Tunnel Sécurisé</h2>
                <h3>Comment atteindre nos VMs privées depuis l'extérieur ?</h3>
                <p>C'est la magie du <strong>rebond SSH (SSH ProxyJump)</strong>. Le GitLab Runner n'accède jamais directement aux VMs de production. Il passe obligatoirement par le Bastion.</p>
                <div class="diagram-container">
                    <svg viewBox="0 0 800 400" xmlns="http://www.w3.org/2000/svg" font-family="var(--font-primary)">
                        <g transform="translate(50, 150)"><rect width="150" height="100" rx="10" fill="#2d2d2d"/><text x="75" y="55" fill="#fff" text-anchor="middle">GitLab Runner</text></g>
                        <g transform="translate(325, 150)"><rect width="150" height="100" rx="10" fill="#2d2d2d"/><text x="75" y="55" fill="#fff" text-anchor="middle">🛡️ Bastion Host</text></g>
                        <g transform="translate(600, 150)"><rect width="150" height="100" rx="10" fill="#005A9E"/><text x="75" y="55" fill="#fff" text-anchor="middle">VM de Prod</text></g>

                        <path d="M 200 200 h 125" stroke="#61afef" stroke-width="2" marker-end="url(#arrow-dark)"/>
                        <text x="262.5" y="180" text-anchor="middle" fill="#333" font-size="14">1. Connexion SSH</text>

                        <path d="M 475 200 h 125" stroke="#98c379" stroke-width="2" marker-end="url(#arrow-dark)" stroke-dasharray="5"/>
                        <text x="537.5" y="180" text-anchor="middle" fill="#333" font-size="14">2. Rebond SSH</text>
                        
                        <path d="M 200 220 h 400" stroke="#e06c75" stroke-width="1.5" stroke-dasharray="2 4"/>
                        <text x="400" y="240" text-anchor="middle" fill="#e06c75" font-size="14">Le trafic SSH est encapsulé, il ne sort jamais du VNet.</text>

                        <text x="400" y="320" text-anchor="middle" fill="#444" font-size="16">La commande `ssh -J user@bastion user@vm_prod` réalise ce tunnel.</text>
                    </svg>
                </div>
            </div>

            <!-- Slide 15: Le script de déploiement -->
            <div class="slide">
                <div class="slide-split">
                    <div class="content-side">
                        <h2>Le Script de Déploiement en Action</h2>
                        <p>Une fois sur la VM de production, le script finalise le travail :</p>
                        <ol>
                            <li><strong>Authentification sécurisée :</strong> Il se connecte à notre GitLab Registry pour télécharger l'image.</li>
                            <li><strong>Décodage des secrets :</strong> Le mot de passe de la BDD, passé en Base64, est décodé et placé dans un fichier temporaire. Il n'est jamais visible dans les logs.</li>
                            <li><strong>Déploiement "Zero Downtime" (simplifié) :</strong>
                                <ul>
                                    <li>L'ancien conteneur est arrêté (`docker rm -f`).</li>
                                    <li>Le nouveau conteneur est démarré avec les bons secrets.</li>
                                </ul>
                            </li>
                            <li><strong>Nettoyage :</strong> Le fichier de secrets est immédiatement supprimé.</li>
                        </ol>
                    </div>
                    <div class="code-side">
                        <button class="copy-btn" onclick="copyCode(this)">Copier</button>
                        <pre><code><span class="comment"># Extrait du script deploy_script.sh exécuté sur la VM</span>

    <span class="comment"># Décodage du mot de passe Base64</span>
    <span class="function">SQL_PASSWORD</span>=$(<span class="keyword">echo</span> <span class="string">"$SQL_PASSWORD_B64"</span> | <span class="keyword">base64</span> -d)

    <span class="comment"># Pull de la nouvelle image</span>
    <span class="keyword">docker</span> pull $IMAGE:$TAG

    <span class="comment"># Arrêt et suppression de l'ancien conteneur</span>
    <span class="keyword">docker</span> rm -f web-php || <span class="keyword">true</span>

    <span class="comment"># Création d'un fichier .env pour les secrets</span>
    <span class="keyword">cat</span> > /tmp/app.env << <span class="string">ENVEOF</span>
    <span class="string">SQL_SERVER=$SQL_SERVER</span>
    <span class="string">SQL_PASSWORD=$SQL_PASSWORD</span>
    <span class="string">...</span>
    <span class="string">ENVEOF</span>

    <span class="comment"># Démarrage du nouveau conteneur</span>
    <span class="keyword">docker</span> run -d --name web-php -p 80:80 \
    --env-file /tmp/app.env \
    $IMAGE:$TAG

    <span class="comment"># Nettoyage immédiat !</span>
    <span class="keyword">rm</span> -f /tmp/app.env
    </code></pre>
                    </div>
                </div>        </div>

            <!-- Nouvelle slide: Métriques et Performance -->
            <div class="slide">
                <h2>📊 Résultats et Métriques</h2>
                <h3>Les chiffres qui comptent dans notre architecture</h3>
                
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 2rem; margin-top: 2rem;">
                    <div style="background: linear-gradient(135deg, #0078D4 0%, #005A9E 100%); padding: 1.5rem; border-radius: 12px; color: white; text-align: center;">
                        <div style="font-size: 3rem; font-weight: bold; margin-bottom: 0.5rem;">99.9%</div>
                        <div style="font-size: 1.2rem;">Disponibilité</div>
                        <div style="font-size: 0.9rem; opacity: 0.8;">Multi-zone + Load Balancer</div>
                    </div>
                    
                    <div style="background: linear-gradient(135deg, #98c379 0%, #68a063 100%); padding: 1.5rem; border-radius: 12px; color: white; text-align: center;">
                        <div style="font-size: 3rem; font-weight: bold; margin-bottom: 0.5rem;">&lt; 5 min</div>
                        <div style="font-size: 1.2rem;">Temps de déploiement</div>
                        <div style="font-size: 0.9rem; opacity: 0.8;">Pipeline automatisé</div>
                    </div>
                    
                    <div style="background: linear-gradient(135deg, #d19a66 0%, #b8864f 100%); padding: 1.5rem; border-radius: 12px; color: white; text-align: center;">
                        <div style="font-size: 3rem; font-weight: bold; margin-bottom: 0.5rem;">100%</div>
                        <div style="font-size: 1.2rem;">Automatisation</div>
                        <div style="font-size: 0.9rem; opacity: 0.8;">Zero-click deployment</div>
                    </div>
                    
                    <div style="background: linear-gradient(135deg, #e06c75 0%, #c25965 100%); padding: 1.5rem; border-radius: 12px; color: white; text-align: center;">
                        <div style="font-size: 3rem; font-weight: bold; margin-bottom: 0.5rem;">0</div>
                        <div style="font-size: 1.2rem;">Exposition publique</div>
                        <div style="font-size: 0.9rem; opacity: 0.8;">DB 100% privée</div>
                    </div>
                </div>
                <div style="margin-top: 2rem; padding: 1rem; background: #f8f9fa; border-radius: 8px; border-left: 4px solid #0078D4;">
                    <strong>💡 Impact Business :</strong> Réduction de 80% du temps de mise en production et élimination totale des erreurs de déploiement manuel
                </div>
            </div>

            <!-- Nouvelle slide: Démo Live -->
            <div class="slide invert lead">
                <h1>🚀 Démo Live</h1>
                <h2 style="margin-top: 2rem; color: white;">Voyons notre infrastructure en action !</h2>
                
                <div style="margin-top: 3rem; text-align: left; max-width: 800px;">
                    <div style="background: rgba(255,255,255,0.1); padding: 2rem; border-radius: 12px; margin-bottom: 2rem;">
                        <h3 style="color: #00bcf2; margin-bottom: 1rem;">🌐 Ce que nous allons voir :</h3>
                        <ul style="color: white; font-size: 1.2rem; line-height: 1.8;">
                            <li>✅ Application web fonctionnelle sur notre Load Balancer</li>
                            <li>✅ Connexion sécurisée à la base de données privée</li>
                            <li>✅ Résilience : coupure d'une VM sans impact</li>
                            <li>✅ Déploiement en temps réel via GitLab CI/CD</li>
                        </ul>
                    </div>
                    
                    <div style="background: rgba(0,188,242,0.2); padding: 1.5rem; border-radius: 8px; border: 1px solid #00bcf2;">
                        <strong style="color: #00bcf2;">🔗 URL de la démo :</strong> 
                        <span style="color: white; font-family: monospace; font-size: 1.1em;">http://[LOAD-BALANCER-IP]</span>
                    </div>
                </div>
            </div>
            
            <!-- Slide: Leçons apprises -->
            <div class="slide">
                <h2>🎓 Leçons Apprises & Bonnes Pratiques</h2>
                <h3>Ce que j'ai retenu de ce projet</h3>
                
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 2rem; margin-top: 1.5rem;">
                    <div>
                        <h4 style="color: #0078D4; margin-bottom: 1rem;">✅ Ce qui a bien marché</h4>
                        <ul style="font-size: 1rem;">
                            <li><strong>Terraform :</strong> Reproductibilité parfaite</li>
                            <li><strong>Private Endpoints :</strong> Sécurité maximale</li>
                            <li><strong>Multi-zone :</strong> Vraie haute disponibilité</li>
                            <li><strong>GitLab CI/CD :</strong> Pipeline robuste</li>
                            <li><strong>Bastion Pattern :</strong> Accès sécurisé</li>
                        </ul>
                    </div>
                    
                    <div>
                        <h4 style="color: #e06c75; margin-bottom: 1rem;">⚠️ Points d'attention</h4>
                        <ul style="font-size: 1rem;">
                            <li><strong>Secrets :</strong> Never commit, toujours GitLab Variables</li>
                            <li><strong>Coûts :</strong> Monitorer les ressources actives</li>
                            <li><strong>DNS privé :</strong> Essentiel pour Private Endpoints</li>
                            <li><strong>SSH Keys :</strong> Rotation régulière nécessaire</li>
                            <li><strong>Logs :</strong> Centralisation indispensable</li>
                        </ul>
                    </div>
                </div>
                
                <div style="margin-top: 2rem; padding: 1.5rem; background: linear-gradient(120deg, #98c379 0%, #68a063 100%); border-radius: 12px; color: white;">
                    <strong>🚀 Prochaines étapes :</strong> Monitoring avec Azure Monitor, Tests de charge, Backup automatisé, Multi-region deployment
                </div>
            </div>
            
            <!-- Conclusion -->        <div class="slide invert lead">
                <h1>🎯 Mission Accomplie !</h1>
                <h3>De zéro à une infrastructure Azure enterprise-grade</h3>
                
                <div style="text-align: left; max-width: 900px; margin-top: 2rem;">
                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 2rem; margin-bottom: 2rem;">
                        <div style="background: rgba(255,255,255,0.1); padding: 1.5rem; border-radius: 12px;">
                            <h4 style="color: #00bcf2; margin-bottom: 1rem;">🛡️ Sécurité</h4>
                            <ul style="color: white; font-size: 1rem;">
                                <li>VNet isolé & subnets segmentés</li>
                                <li>Database 100% privée</li>
                                <li>Bastion pour l'administration</li>
                                <li>Secrets managés automatiquement</li>
                            </ul>
                        </div>
                        
                        <div style="background: rgba(255,255,255,0.1); padding: 1.5rem; border-radius: 12px;">
                            <h4 style="color: #98c379; margin-bottom: 1rem;">⚡ Performance</h4>
                            <ul style="color: white; font-size: 1rem;">
                                <li>Multi-zone avec Load Balancer</li>
                                <li>Scale Sets auto-réparant</li>
                                <li>Déploiement en < 5 minutes</li>
                                <li>Zero-downtime updates</li>
                            </ul>
                        </div>
                    </div>
                    
                    <div style="background: rgba(0,120,212,0.2); padding: 2rem; border-radius: 12px; border: 2px solid #0078D4;">
                        <h3 style="color: #00bcf2; margin-bottom: 1rem;">🏆 Résultat Final</h3>
                        <p style="color: white; font-size: 1.2rem; line-height: 1.6;">
                            Une infrastructure <strong>moderne</strong>, <strong>sécurisée</strong> et <strong>entièrement automatisée</strong> 
                            qui respecte les meilleures pratiques DevOps et peut rivaliser avec n'importe quelle solution enterprise !
                        </p>
                    </div>
                </div>
            </div>
            
            <div class="slide invert lead">
                <h1>Merci pour votre attention ! 🙏</h1>
                <div style="margin-top: 3rem; text-align: left; max-width: 700px;">
                    <h2 style="color: white; margin-bottom: 2rem;">Questions & Discussion</h2>
                    
                    <div style="background: rgba(255,255,255,0.1); padding: 2rem; border-radius: 12px; margin-bottom: 2rem;">
                        <h3 style="color: #00bcf2; margin-bottom: 1rem;">📫 Me contacter</h3>
                        <ul style="color: white; font-size: 1.1rem; line-height: 2;">
                            <li><i class="fab fa-linkedin"></i> LinkedIn : El Akhal Mohamad</li>
                            <li><i class="fab fa-github"></i> GitHub : https://github.com/Tutanka01</li>
                            <li><i class="fas fa-envelope"></i> Email : mohamad@makhal.fr</li>
                        </ul>
                    </div>
                    
                    <div style="background: rgba(0,188,242,0.2); padding: 1.5rem; border-radius: 8px; border: 1px solid #00bcf2;">
                        <strong style="color: #00bcf2;">💡 Envie d'aller plus loin ?</strong><br>
                        <span style="color: white;">Tous les codes Terraform et GitLab CI sont disponibles sur mon GitLab !</span>
                    </div>
                </div>
            </div>

        </div>

        <!-- UI de Navigation -->
        <button id="prev-btn" class="nav-button" title="Précédent (Flèche Gauche)">←</button>
        <button id="next-btn" class="nav-button" title="Suivant (Flèche Droite)">→</button>
        <div class="slide-counter"></div>
        <div class="progress-bar"><div class="progress"></div></div>

        <script>
        document.addEventListener('DOMContentLoaded', () => {
            const slides = document.querySelectorAll('.slide');
            const prevBtn = document.getElementById('prev-btn');
            const nextBtn = document.getElementById('next-btn');
            const progress = document.querySelector('.progress');
            const slideCounterElement = document.querySelector('.slide-counter');

            let currentSlide = 0;
            const totalSlides = slides.length;

            function updateSlide(n) {
                currentSlide = Math.max(0, Math.min(n, totalSlides - 1));
                slides.forEach((slide, index) => {
                    slide.classList.toggle('active', index === currentSlide);
                });
                updateUI();
            }

            function updateUI() {
                const progressPercentage = ((currentSlide + 1) / totalSlides) * 100;
                progress.style.width = `${progressPercentage}%`;
                slideCounterElement.textContent = `${currentSlide + 1} / ${totalSlides}`;
                prevBtn.style.display = (currentSlide === 0) ? 'none' : 'flex';
                nextBtn.style.display = (currentSlide === totalSlides - 1) ? 'none' : 'flex';
            }

            function nextSlide() { if (currentSlide < totalSlides - 1) updateSlide(currentSlide + 1); }
            function prevSlide() { if (currentSlide > 0) updateSlide(currentSlide - 1); }

            nextBtn.addEventListener('click', nextSlide);
            prevBtn.addEventListener('click', prevSlide);
            document.addEventListener('keydown', (e) => {
                if (e.key === 'ArrowRight' || e.key === ' ' || e.key === 'PageDown') { e.preventDefault(); nextSlide(); }
                else if (e.key === 'ArrowLeft' || e.key === 'PageUp') { e.preventDefault(); prevSlide(); }
                else if (e.key === 'Home') { e.preventDefault(); updateSlide(0); }
                else if (e.key === 'End') { e.preventDefault(); updateSlide(totalSlides - 1); }
            });

            updateSlide(0);
        });
        
        function copyCode(button) {
            const pre = button.nextElementSibling;
            const code = pre.querySelector('code');
            navigator.clipboard.writeText(code.innerText).then(() => {
                button.innerText = 'Copié !';
                setTimeout(() => { button.innerText = 'Copier'; }, 2000);
            });
        }
        </script>
    </body>
    </html>